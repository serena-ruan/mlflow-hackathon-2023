"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
/** @jsxRuntime classic /
/** @jsx jsx */
const react_1 = require("react");
const classnames_1 = __importDefault(require("classnames"));
const react_dom_1 = require("react-dom");
const react_2 = require("@emotion/react");
const react_feather_1 = require("react-feather");
const Modal_css_1 = __importDefault(require("./Modal.css"));
/** The `Modal` component is useful for creating dialogs for various types of forms, such as registration or signup forms. */
const Modal = ({ children, displayCloseIcon = true, handleClose, isActive = false, large = false, targetEl = typeof document !== 'undefined' ? document.body : new Element(), theme = 'light', ...other }) => {
    const handleExit = (event) => {
        if (event.key === 'Escape' || event.key === 'Esc' || event.keyCode === 27) {
            handleClose(event);
        }
    };
    react_1.useEffect(() => {
        if (typeof document !== 'undefined') {
            document.addEventListener('keydown', handleExit);
        }
        return () => {
            if (typeof document !== 'undefined') {
                document.removeEventListener('keydown', handleExit);
            }
        };
    }, []);
    react_1.useEffect(() => {
        if (typeof document !== 'undefined') {
            const body = document.querySelector('body');
            if (body) {
                if (isActive) {
                    body.classList.add('uil-ov-hidden');
                }
                else {
                    body.classList.remove('uil-ov-hidden');
                }
            }
        }
    }, [isActive]);
    const { className: otherClassName, ...otherProps } = other;
    return react_dom_1.createPortal(react_2.jsx("div", Object.assign({}, otherProps, { className: classnames_1.default(otherClassName, isActive
            ? 'uil-pos-fixed uil-top-0 uil-bot-0 uil-left-0 uil-right-0'
            : 'uil-d-none', 'uil-ov-hidden uil-z-max') }),
        react_2.jsx("div", { className: classnames_1.default(theme === 'light' ? 'uil-bgc-grey-100' : 'uil-bgc-grey-900', 'uil-pos-fixed uil-top-0 uil-bot-0 uil-left-0 uil-right-0 uil-op-75p'), onClick: handleClose }),
        react_2.jsx("div", { className: "uil-pos-relative uil-ta-right uil-w-100p uil-ov-auto uil-h-100vh uil-d-flex uil-jc-center uil-ai-center" },
            react_2.jsx("div", { className: classnames_1.default('w-100p', large ? 'uil-maw-1440' : 'uil-maw-800') },
                displayCloseIcon && (react_2.jsx("div", { className: "uil-h-50 uil-ph-12 uil-d-flex uil-ai-center uil-jc-end lg:uil-h-70" },
                    react_2.jsx("button", { "aria-label": "Close modal", className: "uil-p-0 uil-app-none uil-bdw-0 uil-bgc-transparent uil-cursor-pointer", onClick: handleClose },
                        react_2.jsx(react_feather_1.X, { "aria-hidden": true, strokeWidth: 1, name: "cross", className: classnames_1.default('lg:uil-w-30 lg:uil-h-30', theme === 'light'
                                ? 'uil-color-grey-900'
                                : 'uil-color-grey-100') })))),
                react_2.jsx("div", { className: classnames_1.default('uil-ta-left uil-ph-12', !displayCloseIcon && 'uil-mah-100vh'), css: displayCloseIcon && Modal_css_1.default.content },
                    react_2.jsx("div", { className: classnames_1.default('uil-pb-12 lg:uil-pb-24', !displayCloseIcon && 'uil-pt-12 lg:uil-pt-24') }, children))))), targetEl);
};
exports.default = Modal;
//# sourceMappingURL=Modal.js.map