"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
/** @jsxRuntime classic /
/** @jsx jsx */
const classnames_1 = __importDefault(require("classnames"));
const react_1 = require("react");
const react_2 = require("@emotion/react");
const react_feather_1 = require("react-feather");
const cloudinary_1 = __importDefault(require("../../constants/cloudinary"));
const colors = __importStar(require("../../constants/colors"));
const index_1 = require("../../index");
const helpers_1 = require("../../helpers");
const Nav_css_1 = __importDefault(require("./Nav.css"));
const getCustomTagClassName = (isSidebar, isFirstElement, isLightTheme, section, link) => {
    const isProductSection = section === 'Products';
    const isDevelopersSection = section === 'Developers';
    const selectedUrl = helpers_1.isBrowser && link.url === window.location.pathname;
    return classnames_1.default((isLightTheme ||
        isProductSection ||
        (selectedUrl && !link.theme && !isSidebar)) &&
        'uil-bgc-grey-100', !isFirstElement && link.overview && 'uil-mt-20 md:uil-mt-12', isProductSection &&
        'uil-fxd-column uil-jc-start uil-ai-start uil-pv-20 md:uil-pv-12 md:uil-bgc-white', !isProductSection && 'uil-ai-center md:uil-pv-8', !isProductSection && !isDevelopersSection && 'uil-pv-8', isDevelopersSection && 'md:uil-mb-32', isFirstElement &&
        isDevelopersSection &&
        'uil-bdr-4 md:uil-bdr-0 uil-mh-24 uil-pv-24 uil-mb-8 md:uil-mb-0 md:uil-mh-0 md:uil-pv-0', isSidebar && 'hover:uil-bgc-white', selectedUrl && !link.theme && isSidebar && 'uil-bgc-white', link.isBanner &&
        'uil-h-auto uil-mh-16 uil-bdr-4 uil-pv-24 uil-mb-8 md:uil-mb-16 md:uil-pv-20 md:uil-w-400', !link.isBanner &&
        !isDevelopersSection &&
        !isSidebar &&
        'hover:uil-bgc-grey-100', !link.isBanner && link.backgroundImage && 'md:uil-h-100', !link.isBanner && !link.backgroundImage && 'md:uil-h-100p', link.backgroundImage && 'uil-bgr-no-repeat uil-bgp-right uil-bgs-contain');
};
const COLORS = {
    grey: 'uil-color-grey-800',
    white: 'uil-color-white',
};
const SubNavLink = ({ index, isSidebar = false, link, section, tag, withSmallIcon, ...other }) => {
    const CustomTag = link.url ? tag || 'a' : 'div';
    const CustomSubLink = tag || 'a';
    const getColor = () => {
        if (link.title === 'Covid Center')
            return 'uil-color-red-500';
        if (link.theme)
            return COLORS[link.color];
        return 'uil-color-grey-700';
    };
    return (react_2.jsx(CustomTag, Object.assign({}, other, { className: classnames_1.default('uil-d-flex uil-ph-24 md:uil-ph-20', getColor(), getCustomTagClassName(isSidebar, index === 0, link.theme === 'light', section, link)), css: [
            link.theme &&
                link.backgroundImage &&
                Nav_css_1.default.subNavBannerLink(link.theme, link.backgroundImage),
        ], to: link.url }),
        link.icon && (react_2.jsx("img", { className: classnames_1.default('uil-mr-8 uil-fxs-0', section === 'Products' && 'uil-h-50 uil-w-auto', section !== 'Products' &&
                withSmallIcon &&
                'uil-h-30 uil-w-30 lg:uil-h-40 lg:uil-w-40', section !== 'Products' &&
                !withSmallIcon &&
                'uil-h-auto uil-w-40 lg:uil-w-50'), src: `${cloudinary_1.default}${link.icon}`, alt: `${link.title} icon` })),
        react_2.jsx("span", { className: classnames_1.default(link.urls && 'uil-w-100p') },
            react_2.jsx("div", { className: classnames_1.default(link.urls && 'uil-d-flex') },
                section !== 'Products' && !link.isBanner && (react_2.jsx("p", { className: classnames_1.default('uil-m-0 uil-ff-poppins uil-fw-bold uil-fsz-14 md:uil-fsz-16 ', link.urls &&
                        'uil-d-none md:uil-fx-3 md:uil-ml-24 md:uil-d-block', section === 'Developers' && index === 0 && 'md:uil-ml-24') },
                    link.title,
                    section === 'Developers' && index === 0 && (react_2.jsx(react_feather_1.Play, { className: "uil-w-10 uil-h-10 uil-ml-8 uil-pos-relative", fill: colors.WHITE, stroke: colors.WHITE })))),
                link.urls && (react_2.jsx("div", { className: "md:uil-d-grid md:uil-g-2 md:uil-gvgap-16 md:uil-ggap-12 md:uil-fx-9" }, link.urls.map(item => (react_2.jsx(react_1.Fragment, { key: item.title },
                    react_2.jsx(CustomSubLink, { className: classnames_1.default('uil-d-none uil-color-grey-800 uil-ff-poppins uil-fsz-14 md:uil-m-0 md:uil-fsz-16 md:uil-ml-24 md:uil-d-block', helpers_1.isBrowser && item.url === window.location.pathname
                            ? 'uil-fw-bold'
                            : 'hover:uil-color-nebula-500', item.fullWidth && 'uil-gcstart-1 uil-gcend-3'), to: item.url },
                        item.title,
                        react_2.jsx(react_feather_1.Play, { css: react_2.css `
                        top: -1px;
                      `, className: "uil-w-10 uil-h-10 uil-ml-8 uil-pos-relative", fill: colors.NEBULA_500, stroke: colors.NEBULA_500 })),
                    react_2.jsx(CustomSubLink, { to: item.url, className: "uil-m-0 uil-ff-poppins uil-fw-bold uil-fsz-14 uil-color-grey-800 uil-pv-8 uil-d-block md:uil-d-none" }, item.title))))))),
            link.isBanner && (react_2.jsx(index_1.LightCta, { color: link.color || 'blue', className: classnames_1.default(link.description && 'md:uil-mb-4', link.isLightCta && 'md:uil-ml-24') }, link.title)),
            link.description && (react_2.jsx(index_1.Text, { className: classnames_1.default(section !== 'Products' && 'uil-m-0', link.isBanner && 'uil-d-none md:uil-d-block md:uil-w-60p'), color: link.color || 'grey', small: true }, link.description))),
        link.overview && (react_2.jsx(react_feather_1.Play, { css: react_2.css `
            top: -1px;
          `, className: "uil-w-10 uil-h-10 uil-ml-8 uil-pos-relative", fill: "currentColor" })),
        link.cta && react_2.jsx(index_1.LightCta, { color: link.cta.color }, link.cta.text)));
};
exports.default = SubNavLink;
//# sourceMappingURL=SubNavLink.js.map