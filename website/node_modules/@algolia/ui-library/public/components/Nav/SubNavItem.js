"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
/** @jsxRuntime classic /
/** @jsx jsx */
const react_1 = require("react");
const classnames_1 = __importDefault(require("classnames"));
const react_2 = require("@emotion/react");
const react_feather_1 = require("react-feather");
const Nav_css_1 = __importDefault(require("./Nav.css"));
const SubNavLink_1 = __importDefault(require("./SubNavLink"));
const index_1 = require("../../index");
const GRID_COLUMNS = {
    2: 'sm:uil-g-2',
    3: 'sm:uil-g-3',
};
const SubNavItem = ({ item, Link, trackEvent }) => {
    const [isExpanded, setIsExpanded] = react_1.useState(false);
    const onExpandedClassName = () => {
        if (isExpanded) {
            if (item.sidebar) {
                return 'md:uil-d-grid md:uil-g-2';
            }
            return 'uil-d-block';
        }
        if (item.sidebar) {
            return 'uil-d-none md:uil-d-grid md:uil-g-2';
        }
        return 'uil-d-none md:uil-d-block';
    };
    return (react_2.jsx("div", { className: "uil-d-flex uil-fxd-column uil-w-100p" },
        react_2.jsx(index_1.LabelText, { tag: "button", onClick: () => setIsExpanded(oldValue => !oldValue), className: classnames_1.default('uil-app-none uil-bgc-transparent uil-bd-none uil-p-0 uil-d-flex uil-ai-center uil-jc-between uil-mh-24 md:uil-d-none', item.title === 'Products' && 'uil-mt-32 md:uil-mt-0') },
            item.title,
            isExpanded ? react_2.jsx(react_feather_1.ChevronUp, null) : react_2.jsx(react_feather_1.ChevronDown, null)),
        react_2.jsx("div", { className: classnames_1.default(onExpandedClassName(), (item.title === 'Solutions & Industries' ||
                item.title === 'Resources') &&
                'md:uil-bdblr-6') },
            item.columnTitles && item.columnTitles.length && (react_2.jsx(index_1.Text, { className: "uil-d-none md:uil-d-block md:uil-fw-bold md:uil-mb-24 md:uil-pt-24 md:uil-ph-20", lineHeight: "small", tag: "h3" },
                react_2.jsx("span", { className: "uil-color-grey-400" }, item.columnTitles[0]))),
            react_2.jsx("ul", { className: classnames_1.default('uil-lis-none uil-p-0 uil-m-0 uil-mt-24 md:uil-mt-0', item.columns && 'md:uil-d-grid', item.columns && item.columns > 1 && GRID_COLUMNS[item.columns]) }, item.links.map((link, index) => (react_2.jsx("li", { key: link.title, className: classnames_1.default(link.mobileOnly && 'md:uil-d-none', item.title === 'Products' && 'uil-mb-24 uil-mh-24 md:uil-m-24', item.title === 'Solutions & Industries' && 'uil-h-50', item.title === 'Resources' &&
                    index === item.links.length - 1 &&
                    'uil-mb-24') },
                react_2.jsx(SubNavLink_1.default, { tag: Link, link: link, index: index, section: item.title, withSmallIcon: true, onClick: () => {
                        if (trackEvent && link.trackEvent)
                            //If the link has a tracking obj, call the trackEvent func with that object
                            trackEvent(link.trackEvent.title, link.trackEvent.properties);
                    } }))))),
            item.sidebar && (react_2.jsx("div", { className: classnames_1.default('md:uil-bgc-grey-100', (item.title === 'Solutions & Industries' ||
                    item.title === 'Resources') &&
                    'uil-grstart-1 uil-grend-4 uil-gcstart-2 uil-bdbrr-6 md:uil-pt-24') },
                item.columnTitles && item.columnTitles.length > 0 && (react_2.jsx(index_1.Text, { className: "uil-d-none md:uil-d-block md:uil-fw-bold md:uil-mb-24 md:uil-ph-20", lineHeight: "small", tag: "h3" },
                    react_2.jsx("span", { className: "uil-color-grey-400" }, item.columnTitles[1]))),
                react_2.jsx("ul", { className: "uil-m-0 uil-p-0 uil-lis-none" }, item.sidebar.map((sidebarItem, index) => (react_2.jsx("li", { className: classnames_1.default(sidebarItem.mobileOnly && 'md:uil-d-none'), key: sidebarItem.title },
                    react_2.jsx(SubNavLink_1.default, { tag: Link, link: sidebarItem, section: item.title, index: index, withSmallIcon: true, isSidebar: true }))))))),
            item.banner && (react_2.jsx(index_1.Card, { borderRadius: 4, tag: Link, to: item.banner.url, className: classnames_1.default('uil-bgp-bottom uil-td-none uil-bgr-no-repeat uil-bgs-contain uil-bgc-white uil-mv-8 uil-mh-24 md:uil-mv-24 md:uil-gcstart-1 md:uil-maw-700 md:uil-gcend-3 md:uil-grstart-3', item.banner.hideOnMobile && 'uil-d-none md:uil-d-block'), css: Nav_css_1.default.subNavBannerBackground, onClick: () => {
                    if (trackEvent) {
                        trackEvent('Clicked Inspiration Library banner', {
                            source: 'algolia_webstatic.nav',
                        });
                    }
                } },
                react_2.jsx(index_1.LabelText, { className: "uil-d-flex uil-ai-center" },
                    item.banner.title,
                    ' ',
                    react_2.jsx(react_feather_1.Play, { css: react_2.css `
                  top: -1px;
                `, className: "uil-ml-8 uil-w-10 uil-h-10 uil-pos-relative uil-d-block", fill: "currentColor" })),
                react_2.jsx(index_1.Text, { small: true, className: "uil-d-none md:uil-m-0 md:uil-w-60p md:uil-d-block" }, item.banner.description))))));
};
exports.default = SubNavItem;
//# sourceMappingURL=SubNavItem.js.map