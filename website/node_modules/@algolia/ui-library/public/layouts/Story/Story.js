"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
/** @jsxRuntime classic /
/** @jsx jsx */
const react_1 = require("react");
const classnames_1 = __importDefault(require("classnames"));
const react_2 = require("@emotion/react");
const index_1 = require("../../index");
const helpers_1 = require("../../helpers");
const ALIGN_ITEMS = {
    center: 'md:uil-ai-center',
    end: 'md:uil-ai-end',
    start: 'md:uil-ai-start',
};
const TagWrapper = ({ item }) => {
    if (!item)
        return null;
    const Tag = item.type || 'div';
    if (Tag.displayName && Tag.displayName === 'TextBlock') {
        return react_2.jsx(Tag, Object.assign({}, item.props, { tag: "div" }));
    }
    else {
        throw new Error("You can only use 'TextBlock' components.");
    }
};
const VideoWrapper = ({ video, videoProps = {} }) => {
    const CustomVideoTag = videoProps.tag || 'video';
    const { className: videoClassName, tag: videoTag, ...otherVideoProps } = videoProps;
    return helpers_1.isVideoEmbed(video) ? (react_2.jsx(index_1.EmbeddedVideo, { className: "uil-m-auto uil-w-100p", url: video })) : (react_2.jsx(CustomVideoTag, Object.assign({}, otherVideoProps, { className: classnames_1.default('uil-h-auto uil-m-auto uil-d-block uil-w-100p', videoClassName), src: video })));
};
const Story = ({ children, image, imageProps = {}, position = 'center', reverse = false, tag: CustomTag = 'article', video, videoProps = {}, withLargerText = false, ...other }) => {
    const CustomImageTag = imageProps.tag || 'img';
    const { className: imageClassName, tag: imageTag, ...otherImageProps } = imageProps;
    const { className: otherClassName, ...otherProps } = other;
    return (react_2.jsx(CustomTag, Object.assign({}, otherProps, { className: classnames_1.default('md:uil-d-flex md:uil-jc-center', reverse && 'md:uil-fxd-row-reverse', ALIGN_ITEMS[position], otherClassName) }),
        react_2.jsx("div", { className: classnames_1.default('uil-mb-24 uil-ta-center md:uil-mb-0', reverse ? 'md:uil-pl-24 lg:uil-pl-48' : 'md:uil-pr-24 lg:uil-pr-48', withLargerText ? 'md:uil-fx-5' : 'md:uil-fx-6') }, image ? (react_2.jsx(CustomImageTag, Object.assign({}, otherImageProps, { className: classnames_1.default('uil-h-auto uil-m-auto uil-d-block uil-w-100p', imageClassName), src: image }))) : (react_2.jsx(VideoWrapper, { video: video, videoProps: videoProps }))),
        react_2.jsx("div", { className: classnames_1.default(withLargerText ? 'md:uil-fx-7' : 'md:uil-fx-6', reverse ? 'md:uil-pr-24 lg:uil-pr-48' : 'md:uil-pl-24 lg:uil-pl-48') },
            react_2.jsx("div", null, react_1.Children.map(children, item => (react_2.jsx(index_1.ErrorBoundary, null,
                react_2.jsx(TagWrapper, { item: item }))))))));
};
Story.displayName = 'Story';
exports.default = Story;
//# sourceMappingURL=Story.js.map