/** @jsxRuntime classic /
/** @jsx jsx */
import { Children } from 'react';
import cx from 'classnames';
import { jsx } from '@emotion/react';
import { EmbeddedVideo, ErrorBoundary } from '../../index';
import { isVideoEmbed } from '../../helpers';
const ALIGN_ITEMS = {
    center: 'md:uil-ai-center',
    end: 'md:uil-ai-end',
    start: 'md:uil-ai-start',
};
const TagWrapper = ({ item }) => {
    if (!item)
        return null;
    const Tag = item.type || 'div';
    if (Tag.displayName && Tag.displayName === 'TextBlock') {
        return jsx(Tag, Object.assign({}, item.props, { tag: "div" }));
    }
    else {
        throw new Error("You can only use 'TextBlock' components.");
    }
};
const VideoWrapper = ({ video, videoProps = {} }) => {
    const CustomVideoTag = videoProps.tag || 'video';
    const { className: videoClassName, tag: videoTag, ...otherVideoProps } = videoProps;
    return isVideoEmbed(video) ? (jsx(EmbeddedVideo, { className: "uil-m-auto uil-w-100p", url: video })) : (jsx(CustomVideoTag, Object.assign({}, otherVideoProps, { className: cx('uil-h-auto uil-m-auto uil-d-block uil-w-100p', videoClassName), src: video })));
};
const Story = ({ children, image, imageProps = {}, position = 'center', reverse = false, tag: CustomTag = 'article', video, videoProps = {}, withLargerText = false, ...other }) => {
    const CustomImageTag = imageProps.tag || 'img';
    const { className: imageClassName, tag: imageTag, ...otherImageProps } = imageProps;
    const { className: otherClassName, ...otherProps } = other;
    return (jsx(CustomTag, Object.assign({}, otherProps, { className: cx('md:uil-d-flex md:uil-jc-center', reverse && 'md:uil-fxd-row-reverse', ALIGN_ITEMS[position], otherClassName) }),
        jsx("div", { className: cx('uil-mb-24 uil-ta-center md:uil-mb-0', reverse ? 'md:uil-pl-24 lg:uil-pl-48' : 'md:uil-pr-24 lg:uil-pr-48', withLargerText ? 'md:uil-fx-5' : 'md:uil-fx-6') }, image ? (jsx(CustomImageTag, Object.assign({}, otherImageProps, { className: cx('uil-h-auto uil-m-auto uil-d-block uil-w-100p', imageClassName), src: image }))) : (jsx(VideoWrapper, { video: video, videoProps: videoProps }))),
        jsx("div", { className: cx(withLargerText ? 'md:uil-fx-7' : 'md:uil-fx-6', reverse ? 'md:uil-pr-24 lg:uil-pr-48' : 'md:uil-pl-24 lg:uil-pl-48') },
            jsx("div", null, Children.map(children, item => (jsx(ErrorBoundary, null,
                jsx(TagWrapper, { item: item }))))))));
};
Story.displayName = 'Story';
export default Story;
