/** @jsxRuntime classic /
/** @jsx jsx */
import { Children, Fragment, useState } from 'react';
import cx from 'classnames';
import { css, jsx } from '@emotion/react';
import { EmbeddedVideo, ErrorBoundary, Heading1, Heading3, LabelText, Modal, PlayButton, } from '../../index';
import styles from './Hero.css';
import { isBrowser, isVideoEmbed } from '../../helpers';
const VideoWrapper = ({ modalOpen, setModalOpen, poster, video, videoProps = {}, }) => {
    const CustomVideoTag = videoProps.tag || 'video';
    const { className: videoClassName, tag: videoTag, ...otherVideoProps } = videoProps;
    if (video && !poster) {
        throw new Error('poster parameter must be set when using video and videoInModal parameters.');
    }
    return (jsx(Modal, { theme: "dark", handleClose: () => setModalOpen(false), isActive: modalOpen, hasVideo: true }, modalOpen && (jsx(Fragment, null, isVideoEmbed(video) ? (jsx(EmbeddedVideo, Object.assign({ autoPlay: true, className: "uil-m-auto uil-w-70p md:uil-w-100p", url: video }, otherVideoProps))) : (jsx(CustomVideoTag, Object.assign({}, otherVideoProps, { autoPlay: true, className: cx('uil-h-auto uil-m-auto uil-d-block uil-w-70p md:uil-w-100p', videoClassName), src: video })))))));
};
/** `Hero` component is considered as the main header of the page. It can contain a couple of `Buttons`, a background, a `Heading1`, a `Heading3` and an optional image. */
const Hero = ({ align, background, children, cta, videoInModal, image, imageProps = {}, label, labelProps = {}, padding = 'normal', poster, subtitle, subtitleProps = {}, title, titleProps = {}, video, videoProps = {}, ...other }) => {
    const [modalOpen, setModalOpen] = useState(false);
    const { className: imageClassName, css: imageCss, tag: imageTag, ...otherImageProps } = imageProps;
    const { className: videoClassName, css: videoCss, tag: videoTag, ...otherVideoProps } = videoProps;
    const { className: titleClassName, ...otherTitleProps } = titleProps;
    const { className: subtitleClassName, color: subtitleColor, ...otherSubtitleProps } = subtitleProps;
    const { className: labelClassName, color: labelColor, tag: labelTag, ...otherLabelProps } = labelProps;
    const { className: otherClassName, ...otherProps } = other;
    const CustomImageTag = imageTag || 'img';
    const CustomVideoTag = videoProps.tag || 'video';
    const leftAligned = align === 'left' || ((image || video) && align !== 'right');
    const rightAligned = align === 'right';
    return (jsx("header", Object.assign({}, otherProps, { className: cx('uil-ph-16 uil-ta-center uil-pos-relative', leftAligned && 'md:uil-ta-left', rightAligned && 'md:uil-ta-right', padding === 'small'
            ? 'uil-pv-32 lg:uil-pv-48'
            : 'uil-pv-80 lg:uil-pv-120', otherClassName) }),
        isBrowser && video && videoInModal && (jsx(ErrorBoundary, null,
            jsx(VideoWrapper, { modalOpen: modalOpen, setModalOpen: setModalOpen, video: video, videoProps: videoProps, poster: poster }))),
        background && (jsx("div", { css: [styles.background, styles[background]], className: "uil-pos-absolute uil-bgp-center uil-left-0 uil-right-0 uil-d-none uil-m-auto md:uil-d-block" })),
        jsx("div", { className: "uil-pos-relative uil-z-1 uil-maw-500 uil-m-auto md:uil-maw-1440" },
            children,
            label && (jsx(LabelText, Object.assign({}, otherLabelProps, { big: true, className: cx('uil-d-block uil-mt-0 uil-mb-8', labelClassName), color: labelColor || 'blue', tag: labelTag || 'span' }), label)),
            jsx(Heading1, Object.assign({}, otherTitleProps, { className: cx('uil-m-0 uil-maw-35ch uil-mr-auto', video
                    ? 'md:uil-w-60p lg:uil-w-50p'
                    : 'uil-ml-auto md:uil-w-60p lg:uil-w-70p', leftAligned && 'md:uil-ml-0', rightAligned && 'md:uil-ml-auto md:uil-mr-0', titleClassName) }), title),
            subtitle && (jsx(Heading3, Object.assign({}, otherSubtitleProps, { className: cx('uil-mt-8 uil-mb-0 uil-ml-auto uil-mr-auto uil-jc-center lg:uil-mt-20', leftAligned && 'md:uil-ml-0', rightAligned && 'md:uil-mr-0', (leftAligned || rightAligned) && 'md:uil-w-50p', subtitleClassName), color: subtitleColor }), subtitle)),
            cta && (jsx("div", { className: cx('uil-mt-32 uil-mh-auto uil-d-flex uil-fxd-column uil-ai-center xs:uil-fxd-row xs:uil-jc-center lg:uil-mt-48', leftAligned && 'md:uil-jc-start', rightAligned && 'md:uil-jc-end') }, Children.map(cta, (item, index) => {
                const Tag = item.type;
                return Tag ? (jsx(Tag, Object.assign({}, item.props, { css: Tag.displayName &&
                        Tag.displayName === 'Button' &&
                        styles.button, className: cx(item.props.className, index !== 0 && 'uil-mt-16 xs:uil-mt-0 xs:uil-ml-24') }))) : (jsx("div", { className: cx(index !== 0 && 'uil-mt-16 xs:uil-mt-0 xs:uil-ml-24') }, item));
            })))),
        image && (jsx("div", { className: "uil-d-none uil-pos-absolute uil-left-0 uil-top-0 uil-right-0 uil-bot-0 uil-ov-hidden md:uil-d-block" },
            jsx(CustomImageTag, Object.assign({}, otherImageProps, { css: [
                    leftAligned && styles.imageRight,
                    rightAligned && styles.imageLeft,
                    imageCss,
                ], className: cx('uil-pos-absolute uil-mah-100p', imageClassName), src: image })))),
        video && (jsx("div", { css: styles.videoTransform, className: cx('uil-z-1 uil-mh-auto uil-mt-32 md:uil-mt-auto md:uil-pos-absolute md:uil-top-50p md:uil-d-flex md:uil-ai-center', videoInModal ? 'md:uil-w-100p uil-maw-500' : 'uil-maw-700', leftAligned
                ? 'md:uil-left-50p'
                : 'md:uil-left-0 md:uil-right-50p md:uil-mr-0') }, videoInModal ? (jsx("button", { className: "uil-h-100p uil-pos-relative uil-bd-none uil-app-none uil-bgc-transparent uil-cursor-pointer uil-bgs-contain uil-bgp-center uil-bgr-no-repeat uil-w-100p xs:uil-w-70p md:uil-h-60p md:uil-fl-right lg:uil-bgs-cover lg:uil-w-100p", css: [
                styles.video,
                css `
                  background-image: url(${poster});
                `,
            ], "data-with-play-button": true, "aria-label": "Play video", onClick: () => setModalOpen(true) },
            jsx(PlayButton, { "aria-hidden": true, className: "uil-pos-absolute uil-pe-none uil-top-50p uil-left-50p", css: styles.playButton, tag: "span" }))) : (jsx("div", { className: "uil-pos-relative uil-m-auto xs:uil-w-60p md:uil-w-70p md:uil-fl-right lg:uil-w-100p" },
            jsx(CustomVideoTag, Object.assign({ autoPlay: true, muted: true, loop: true }, otherVideoProps, { css: [videoCss, styles.videoMaxHeight], className: cx('uil-h-auto uil-m-auto uil-d-block uil-w-100p md:uil-w-70p lg:uil-w-80p', videoClassName), src: video }))))))));
};
export default Hero;
