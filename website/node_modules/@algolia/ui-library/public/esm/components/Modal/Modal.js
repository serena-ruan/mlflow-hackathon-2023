/** @jsxRuntime classic /
/** @jsx jsx */
import { useEffect } from 'react';
import cx from 'classnames';
import { createPortal } from 'react-dom';
import { jsx } from '@emotion/react';
import { X } from 'react-feather';
import styles from './Modal.css';
/** The `Modal` component is useful for creating dialogs for various types of forms, such as registration or signup forms. */
const Modal = ({ children, displayCloseIcon = true, handleClose, isActive = false, large = false, targetEl = typeof document !== 'undefined' ? document.body : new Element(), theme = 'light', ...other }) => {
    const handleExit = (event) => {
        if (event.key === 'Escape' || event.key === 'Esc' || event.keyCode === 27) {
            handleClose(event);
        }
    };
    useEffect(() => {
        if (typeof document !== 'undefined') {
            document.addEventListener('keydown', handleExit);
        }
        return () => {
            if (typeof document !== 'undefined') {
                document.removeEventListener('keydown', handleExit);
            }
        };
    }, []);
    useEffect(() => {
        if (typeof document !== 'undefined') {
            const body = document.querySelector('body');
            if (body) {
                if (isActive) {
                    body.classList.add('uil-ov-hidden');
                }
                else {
                    body.classList.remove('uil-ov-hidden');
                }
            }
        }
    }, [isActive]);
    const { className: otherClassName, ...otherProps } = other;
    return createPortal(jsx("div", Object.assign({}, otherProps, { className: cx(otherClassName, isActive
            ? 'uil-pos-fixed uil-top-0 uil-bot-0 uil-left-0 uil-right-0'
            : 'uil-d-none', 'uil-ov-hidden uil-z-max') }),
        jsx("div", { className: cx(theme === 'light' ? 'uil-bgc-grey-100' : 'uil-bgc-grey-900', 'uil-pos-fixed uil-top-0 uil-bot-0 uil-left-0 uil-right-0 uil-op-75p'), onClick: handleClose }),
        jsx("div", { className: "uil-pos-relative uil-ta-right uil-w-100p uil-ov-auto uil-h-100vh uil-d-flex uil-jc-center uil-ai-center" },
            jsx("div", { className: cx('w-100p', large ? 'uil-maw-1440' : 'uil-maw-800') },
                displayCloseIcon && (jsx("div", { className: "uil-h-50 uil-ph-12 uil-d-flex uil-ai-center uil-jc-end lg:uil-h-70" },
                    jsx("button", { "aria-label": "Close modal", className: "uil-p-0 uil-app-none uil-bdw-0 uil-bgc-transparent uil-cursor-pointer", onClick: handleClose },
                        jsx(X, { "aria-hidden": true, strokeWidth: 1, name: "cross", className: cx('lg:uil-w-30 lg:uil-h-30', theme === 'light'
                                ? 'uil-color-grey-900'
                                : 'uil-color-grey-100') })))),
                jsx("div", { className: cx('uil-ta-left uil-ph-12', !displayCloseIcon && 'uil-mah-100vh'), css: displayCloseIcon && styles.content },
                    jsx("div", { className: cx('uil-pb-12 lg:uil-pb-24', !displayCloseIcon && 'uil-pt-12 lg:uil-pt-24') }, children))))), targetEl);
};
export default Modal;
