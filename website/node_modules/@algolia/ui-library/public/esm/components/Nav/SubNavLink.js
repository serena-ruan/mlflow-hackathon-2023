/** @jsxRuntime classic /
/** @jsx jsx */
import cx from 'classnames';
import { Fragment } from 'react';
import { jsx, css } from '@emotion/react';
import { Play } from 'react-feather';
import CLOUDINARY from '../../constants/cloudinary';
import * as colors from '../../constants/colors';
import { Text, LightCta } from '../../index';
import { isBrowser } from '../../helpers';
import styles from './Nav.css';
const getCustomTagClassName = (isSidebar, isFirstElement, isLightTheme, section, link) => {
    const isProductSection = section === 'Products';
    const isDevelopersSection = section === 'Developers';
    const selectedUrl = isBrowser && link.url === window.location.pathname;
    return cx((isLightTheme ||
        isProductSection ||
        (selectedUrl && !link.theme && !isSidebar)) &&
        'uil-bgc-grey-100', !isFirstElement && link.overview && 'uil-mt-20 md:uil-mt-12', isProductSection &&
        'uil-fxd-column uil-jc-start uil-ai-start uil-pv-20 md:uil-pv-12 md:uil-bgc-white', !isProductSection && 'uil-ai-center md:uil-pv-8', !isProductSection && !isDevelopersSection && 'uil-pv-8', isDevelopersSection && 'md:uil-mb-32', isFirstElement &&
        isDevelopersSection &&
        'uil-bdr-4 md:uil-bdr-0 uil-mh-24 uil-pv-24 uil-mb-8 md:uil-mb-0 md:uil-mh-0 md:uil-pv-0', isSidebar && 'hover:uil-bgc-white', selectedUrl && !link.theme && isSidebar && 'uil-bgc-white', link.isBanner &&
        'uil-h-auto uil-mh-16 uil-bdr-4 uil-pv-24 uil-mb-8 md:uil-mb-16 md:uil-pv-20 md:uil-w-400', !link.isBanner &&
        !isDevelopersSection &&
        !isSidebar &&
        'hover:uil-bgc-grey-100', !link.isBanner && link.backgroundImage && 'md:uil-h-100', !link.isBanner && !link.backgroundImage && 'md:uil-h-100p', link.backgroundImage && 'uil-bgr-no-repeat uil-bgp-right uil-bgs-contain');
};
const COLORS = {
    grey: 'uil-color-grey-800',
    white: 'uil-color-white',
};
const SubNavLink = ({ index, isSidebar = false, link, section, tag, withSmallIcon, ...other }) => {
    const CustomTag = link.url ? tag || 'a' : 'div';
    const CustomSubLink = tag || 'a';
    const getColor = () => {
        if (link.title === 'Covid Center')
            return 'uil-color-red-500';
        if (link.theme)
            return COLORS[link.color];
        return 'uil-color-grey-700';
    };
    return (jsx(CustomTag, Object.assign({}, other, { className: cx('uil-d-flex uil-ph-24 md:uil-ph-20', getColor(), getCustomTagClassName(isSidebar, index === 0, link.theme === 'light', section, link)), css: [
            link.theme &&
                link.backgroundImage &&
                styles.subNavBannerLink(link.theme, link.backgroundImage),
        ], to: link.url }),
        link.icon && (jsx("img", { className: cx('uil-mr-8 uil-fxs-0', section === 'Products' && 'uil-h-50 uil-w-auto', section !== 'Products' &&
                withSmallIcon &&
                'uil-h-30 uil-w-30 lg:uil-h-40 lg:uil-w-40', section !== 'Products' &&
                !withSmallIcon &&
                'uil-h-auto uil-w-40 lg:uil-w-50'), src: `${CLOUDINARY}${link.icon}`, alt: `${link.title} icon` })),
        jsx("span", { className: cx(link.urls && 'uil-w-100p') },
            jsx("div", { className: cx(link.urls && 'uil-d-flex') },
                section !== 'Products' && !link.isBanner && (jsx("p", { className: cx('uil-m-0 uil-ff-poppins uil-fw-bold uil-fsz-14 md:uil-fsz-16 ', link.urls &&
                        'uil-d-none md:uil-fx-3 md:uil-ml-24 md:uil-d-block', section === 'Developers' && index === 0 && 'md:uil-ml-24') },
                    link.title,
                    section === 'Developers' && index === 0 && (jsx(Play, { className: "uil-w-10 uil-h-10 uil-ml-8 uil-pos-relative", fill: colors.WHITE, stroke: colors.WHITE })))),
                link.urls && (jsx("div", { className: "md:uil-d-grid md:uil-g-2 md:uil-gvgap-16 md:uil-ggap-12 md:uil-fx-9" }, link.urls.map(item => (jsx(Fragment, { key: item.title },
                    jsx(CustomSubLink, { className: cx('uil-d-none uil-color-grey-800 uil-ff-poppins uil-fsz-14 md:uil-m-0 md:uil-fsz-16 md:uil-ml-24 md:uil-d-block', isBrowser && item.url === window.location.pathname
                            ? 'uil-fw-bold'
                            : 'hover:uil-color-nebula-500', item.fullWidth && 'uil-gcstart-1 uil-gcend-3'), to: item.url },
                        item.title,
                        jsx(Play, { css: css `
                        top: -1px;
                      `, className: "uil-w-10 uil-h-10 uil-ml-8 uil-pos-relative", fill: colors.NEBULA_500, stroke: colors.NEBULA_500 })),
                    jsx(CustomSubLink, { to: item.url, className: "uil-m-0 uil-ff-poppins uil-fw-bold uil-fsz-14 uil-color-grey-800 uil-pv-8 uil-d-block md:uil-d-none" }, item.title))))))),
            link.isBanner && (jsx(LightCta, { color: link.color || 'blue', className: cx(link.description && 'md:uil-mb-4', link.isLightCta && 'md:uil-ml-24') }, link.title)),
            link.description && (jsx(Text, { className: cx(section !== 'Products' && 'uil-m-0', link.isBanner && 'uil-d-none md:uil-d-block md:uil-w-60p'), color: link.color || 'grey', small: true }, link.description))),
        link.overview && (jsx(Play, { css: css `
            top: -1px;
          `, className: "uil-w-10 uil-h-10 uil-ml-8 uil-pos-relative", fill: "currentColor" })),
        link.cta && jsx(LightCta, { color: link.cta.color }, link.cta.text)));
};
export default SubNavLink;
