/** @jsxRuntime classic /
/** @jsx jsx */
import { useState } from 'react';
import cx from 'classnames';
import { jsx, css } from '@emotion/react';
import { Play, ChevronDown, ChevronUp } from 'react-feather';
import styles from './Nav.css';
import SubNavLink from './SubNavLink';
import { LabelText, Card, Text } from '../../index';
const GRID_COLUMNS = {
    2: 'sm:uil-g-2',
    3: 'sm:uil-g-3',
};
const SubNavItem = ({ item, Link, trackEvent }) => {
    const [isExpanded, setIsExpanded] = useState(false);
    const onExpandedClassName = () => {
        if (isExpanded) {
            if (item.sidebar) {
                return 'md:uil-d-grid md:uil-g-2';
            }
            return 'uil-d-block';
        }
        if (item.sidebar) {
            return 'uil-d-none md:uil-d-grid md:uil-g-2';
        }
        return 'uil-d-none md:uil-d-block';
    };
    return (jsx("div", { className: "uil-d-flex uil-fxd-column uil-w-100p" },
        jsx(LabelText, { tag: "button", onClick: () => setIsExpanded(oldValue => !oldValue), className: cx('uil-app-none uil-bgc-transparent uil-bd-none uil-p-0 uil-d-flex uil-ai-center uil-jc-between uil-mh-24 md:uil-d-none', item.title === 'Products' && 'uil-mt-32 md:uil-mt-0') },
            item.title,
            isExpanded ? jsx(ChevronUp, null) : jsx(ChevronDown, null)),
        jsx("div", { className: cx(onExpandedClassName(), (item.title === 'Solutions & Industries' ||
                item.title === 'Resources') &&
                'md:uil-bdblr-6') },
            item.columnTitles && item.columnTitles.length && (jsx(Text, { className: "uil-d-none md:uil-d-block md:uil-fw-bold md:uil-mb-24 md:uil-pt-24 md:uil-ph-20", lineHeight: "small", tag: "h3" },
                jsx("span", { className: "uil-color-grey-400" }, item.columnTitles[0]))),
            jsx("ul", { className: cx('uil-lis-none uil-p-0 uil-m-0 uil-mt-24 md:uil-mt-0', item.columns && 'md:uil-d-grid', item.columns && item.columns > 1 && GRID_COLUMNS[item.columns]) }, item.links.map((link, index) => (jsx("li", { key: link.title, className: cx(link.mobileOnly && 'md:uil-d-none', item.title === 'Products' && 'uil-mb-24 uil-mh-24 md:uil-m-24', item.title === 'Solutions & Industries' && 'uil-h-50', item.title === 'Resources' &&
                    index === item.links.length - 1 &&
                    'uil-mb-24') },
                jsx(SubNavLink, { tag: Link, link: link, index: index, section: item.title, withSmallIcon: true, onClick: () => {
                        if (trackEvent && link.trackEvent)
                            //If the link has a tracking obj, call the trackEvent func with that object
                            trackEvent(link.trackEvent.title, link.trackEvent.properties);
                    } }))))),
            item.sidebar && (jsx("div", { className: cx('md:uil-bgc-grey-100', (item.title === 'Solutions & Industries' ||
                    item.title === 'Resources') &&
                    'uil-grstart-1 uil-grend-4 uil-gcstart-2 uil-bdbrr-6 md:uil-pt-24') },
                item.columnTitles && item.columnTitles.length > 0 && (jsx(Text, { className: "uil-d-none md:uil-d-block md:uil-fw-bold md:uil-mb-24 md:uil-ph-20", lineHeight: "small", tag: "h3" },
                    jsx("span", { className: "uil-color-grey-400" }, item.columnTitles[1]))),
                jsx("ul", { className: "uil-m-0 uil-p-0 uil-lis-none" }, item.sidebar.map((sidebarItem, index) => (jsx("li", { className: cx(sidebarItem.mobileOnly && 'md:uil-d-none'), key: sidebarItem.title },
                    jsx(SubNavLink, { tag: Link, link: sidebarItem, section: item.title, index: index, withSmallIcon: true, isSidebar: true }))))))),
            item.banner && (jsx(Card, { borderRadius: 4, tag: Link, to: item.banner.url, className: cx('uil-bgp-bottom uil-td-none uil-bgr-no-repeat uil-bgs-contain uil-bgc-white uil-mv-8 uil-mh-24 md:uil-mv-24 md:uil-gcstart-1 md:uil-maw-700 md:uil-gcend-3 md:uil-grstart-3', item.banner.hideOnMobile && 'uil-d-none md:uil-d-block'), css: styles.subNavBannerBackground, onClick: () => {
                    if (trackEvent) {
                        trackEvent('Clicked Inspiration Library banner', {
                            source: 'algolia_webstatic.nav',
                        });
                    }
                } },
                jsx(LabelText, { className: "uil-d-flex uil-ai-center" },
                    item.banner.title,
                    ' ',
                    jsx(Play, { css: css `
                  top: -1px;
                `, className: "uil-ml-8 uil-w-10 uil-h-10 uil-pos-relative uil-d-block", fill: "currentColor" })),
                jsx(Text, { small: true, className: "uil-d-none md:uil-m-0 md:uil-w-60p md:uil-d-block" }, item.banner.description))))));
};
export default SubNavItem;
